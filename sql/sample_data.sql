USE library_db;

-- Очищення існуючих даних (якщо потрібно)
-- DELETE FROM loans;
-- DELETE FROM books;
-- DELETE FROM categories;
-- DELETE FROM readers;

-- Тестові дані для читачів (10 записів)
INSERT INTO readers (name, card_number, phone, email, registration_date) VALUES
                                                                             ('Олена Петренко', 'RD123456', '+380501234567', 'olena.p@email.com', '2023-01-15'),
                                                                             ('Андрій Коваленко', 'RD789012', '+380502345678', 'andrii.k@email.com', '2023-03-20'),
                                                                             ('Марина Шевченко', 'RD345678', '+380503456789', 'maryna.s@email.com', '2023-06-10'),
                                                                             ('Дмитро Іваненко', 'RD456789', '+380504567890', 'dmitro.i@email.com', '2023-07-22'),
                                                                             ('Софія Мельник', 'RD567890', '+380505678901', 'sofia.m@email.com', '2023-08-14'),
                                                                             ('Ігор Семенов', 'RD678901', '+380506789012', 'igor.s@email.com', '2023-09-05'),
                                                                             ('Анна Бойко', 'RD789013', '+380507890123', 'anna.b@email.com', '2023-10-12'),
                                                                             ('Тарас Лисенко', 'RD890124', '+380508901234', 'taras.l@email.com', '2023-11-08'),
                                                                             ('Оксана Білик', 'RD901235', '+380509012345', 'oksana.b@email.com', '2023-12-03'),
                                                                             ('Василь Кравчук', 'RD012346', '+380500123456', 'vasyl.k@email.com', '2024-01-18');

-- Тестові дані для категорій (7 категорій)
INSERT INTO categories (name, description, floor_location) VALUES
                                                               ('Художня література', 'Романи, повісті, поезія, драматургія', '2-й поверх, зала А'),
                                                               ('Наукова література', 'Дослідження, монографії, наукові статті', '3-й поверх, зала Б'),
                                                               ('Технічна література', 'Підручники, довідники, технічні видання', '3-й поверх, зала В'),
                                                               ('Дитяча література', 'Казки, оповідання та книги для дітей', '1-й поверх, зала Г'),
                                                               ('Історія та біографії', 'Історичні праці, мемуари, біографії', '2-й поверх, зала Д'),
                                                               ('Психологія та філософія', 'Психологічні та філософські праці', '3-й поверх, зала Е'),
                                                               ('Мистецтво та культура', 'Книги про мистецтво, культуру, музику', '2-й поверх, зала Ж');

-- Тестові дані для книг (15 книг)
INSERT INTO books (title, author, isbn, year, copies_total, copies_available, category_id, status) VALUES
                                                                                                       ('Тіні забутих предків', 'Михайло Коцюбинський', '978-966-03-4521-8', 2015, 3, 2, 1, 'available'),
                                                                                                       ('Кобзар', 'Тарас Шевченко', '978-966-03-5128-8', 2018, 5, 4, 1, 'available'),
                                                                                                       ('Історія України', 'Михайло Грушевський', '978-966-03-6234-5', 2020, 2, 1, 5, 'available'),
                                                                                                       ('Майстер і Маргарита', 'Михайло Булгаков', '978-966-03-7345-6', 2019, 4, 3, 1, 'available'),
                                                                                                       ('Програмування на Python', 'Марк Лутц', '978-966-03-8456-7', 2021, 3, 2, 3, 'available'),
                                                                                                       ('Алхімік', 'Пауло Коельйо', '978-966-03-9567-8', 2020, 2, 1, 1, 'available'),
                                                                                                       ('Українські народні казки', 'Народна творчість', '978-966-03-0678-9', 2017, 6, 5, 4, 'available'),
                                                                                                       ('Психологія впливу', 'Роберт Чалдіні', '978-966-03-1789-0', 2022, 2, 1, 6, 'available'),
                                                                                                       ('Мистецтво війни', 'Сунь Цзи', '978-966-03-2890-1', 2018, 3, 2, 6, 'available'),
                                                                                                       ('Енеїда', 'Іван Котляревський', '978-966-03-3901-2', 2016, 4, 3, 1, 'available'),
                                                                                                       ('Основи веб-розробки', 'Джон Дакетт', '978-966-03-4012-3', 2023, 2, 0, 3, 'available'),
                                                                                                       ('Історія мистецтва', 'Ернст Гомбрих', '978-966-03-5123-4', 2019, 3, 2, 7, 'available'),
                                                                                                       ('Маленький принц', 'Антуан де Сент-Екзюпері', '978-966-03-6234-7', 2020, 5, 4, 4, 'available'),
                                                                                                       ('Собор Паризької Богоматері', 'Віктор Гюго', '978-966-03-7345-8', 2017, 2, 1, 1, 'damaged'),
                                                                                                       ('Квантова фізика для початківців', 'Карло Ровеллі', '978-966-03-8456-9', 2021, 1, 0, 2, 'lost');

-- Тестові дані для видачі книг (12 записів з різними статусами)
INSERT INTO loans (book_id, reader_id, category_id, loan_date, return_date, actual_return_date, status) VALUES
-- Активні видачі
(1, 1, 1, '2024-11-20 10:00:00', '2024-12-20 10:00:00', NULL, 'active'),
(3, 2, 5, '2024-11-15 14:30:00', '2024-12-15 14:30:00', NULL, 'active'),
(5, 4, 3, '2024-12-01 09:15:00', '2025-01-01 09:15:00', NULL, 'active'),
(8, 6, 6, '2024-12-05 11:20:00', '2025-01-05 11:20:00', NULL, 'active'),
-- Прострочені видачі (статус active, але дата повернення в минулому)
(2, 3, 1, '2024-10-15 08:00:00', '2024-11-15 08:00:00', NULL, 'active'),
(6, 5, 1, '2024-10-20 16:45:00', '2024-11-20 16:45:00', NULL, 'active'),
(9, 7, 6, '2024-11-01 14:30:00', '2024-12-01 14:30:00', NULL, 'active'),
-- Повернені книги
(4, 8, 1, '2024-10-01 10:00:00', '2024-11-01 10:00:00', '2024-10-28 15:30:00', 'returned'),
(7, 9, 4, '2024-09-15 12:00:00', '2024-10-15 12:00:00', '2024-10-12 09:45:00', 'returned'),
(10, 10, 1, '2024-11-10 13:20:00', '2024-12-10 13:20:00', '2024-12-08 16:10:00', 'returned'),
(12, 1, 7, '2024-08-20 11:00:00', '2024-09-20 11:00:00', '2024-09-18 14:25:00', 'returned'),
(13, 3, 4, '2024-07-15 09:30:00', '2024-08-15 09:30:00', '2024-08-14 17:50:00', 'returned');